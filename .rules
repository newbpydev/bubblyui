# BubblyUI Development Rules

## Core Principles
- Go 1.22+ required (generics)
- Type-safe: use generics, avoid `any` without constraints
- TDD: Red-Green-Refactor cycle mandatory
- Coverage: 80%+ on all features
- No goroutine leaks: use context for cancellation

## Code Standards
- Follow Go conventions (gofmt, goimports, govet)
- Interfaces: accept interfaces, return structs
- Tests: table-driven, co-located (*_test.go)
- Errors: wrap with context, never ignore
- Comments: godoc format on all exports

## Bubbletea Integration
- Components wrap Model/Update/View
- Messages for all state changes
- Commands for async operations
- No goroutines outside Bubbletea scheduler

## Project Structure
```
pkg/bubbly/     # Core framework
pkg/components/ # Built-in components
cmd/examples/   # Example apps
specs/          # Feature specifications
tests/          # Integration tests
```

## Before Committing
- Run: `make test-race lint fmt`
- All tests pass
- No linter warnings
- Coverage maintained
- Specs updated if needed

## When Starting New Feature
1. Read ALL specs files in feature directory
2. Follow ultra-workflow (7 phases)
3. Use appropriate Skills
4. Mark tasks complete as you go
5. Update documentation

## When Implementing
- Start with types/interfaces
- Write failing tests first
- Implement minimal code
- Refactor while green
- Document in godoc

## Never
- Skip tests
- Ignore linter
- Use `any` without reason
- Create goroutines directly
- Commit broken code
- Create summary documents for routine tasks (avoid documentation bloat)
